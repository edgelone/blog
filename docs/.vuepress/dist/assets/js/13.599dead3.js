(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{501:function(s,a,t){"use strict";t.r(a);var e=t(4),l=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"精通redis-一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#精通redis-一"}},[s._v("#")]),s._v(" 精通redis(一)")]),s._v(" "),t("h2",{attrs:{id:"源码安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码安装步骤"}},[s._v("#")]),s._v(" 源码安装步骤")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("官网下载redis(5.0.5)")]),s._v(" "),t("p",[t("a",{attrs:{href:"redis.cn"}},[s._v("国内官网")]),s._v(" "),t("a",{attrs:{href:"redis.io"}},[s._v("国外官网")])])]),s._v(" "),t("li",[t("p",[s._v("解压文件 查看目录结构")])])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("首先阅读README")])]),s._v(" "),t("li",[t("p",[s._v("通常Linux软件安装需要make")]),s._v(" "),t("p",[s._v("make为linux原生命令,make默认会寻找当前目录下的MakeFile,如果某个软件(如nginx)没有MakeFile,那么可能需要先执行config生成MakeFile")])])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("安装")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("make为在当前目录下生成可执行文件")]),s._v(" "),t("p",[s._v("执行若报错,可查看提示是否缺少依赖包,CentOS下安装会缺少GCC")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc\n")])])]),t("p",[s._v("第一次安装失败后  执行")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" distclean\n")])])]),t("p",[s._v("进行清理安装失败的临时文件")]),s._v(" "),t("p",[s._v("继续执行make安装")])]),s._v(" "),t("li",[t("p",[s._v("make install XX 会将可执行文件安装到指定目录,默认会安装在/usr/local")])]),s._v(" "),t("li",[t("p",[s._v("需要在/etc/profile文件中添加redis可执行目录的环境变量")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDIS_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("之前install的目录"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/bin\n")])])]),t("p",[s._v("使配置生效")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])])])])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[s._v("服务安装")])]),s._v(" "),t("ul",[t("li",[s._v("以上步骤只是安装应用,将redis作为服务安装到linux需要utils目录下的  install_server脚本")]),s._v(" "),t("li",[s._v("执行install_server脚本会启动引导配置")]),s._v(" "),t("li",[s._v("默认端口为6379,一个端口就对应一个redis实例,同一个redis程序在一台物理机可启动多个实例,进程 配置 日志及数据目录都是通过端口命名来区分")]),s._v(" "),t("li",[s._v("服务安装成功会在/etc/init.d目录生成对应脚本")]),s._v(" "),t("li",[s._v("install_server脚本执行多次则安装多个服务")]),s._v(" "),t("li",[s._v("查看对应服务\n"),t("ul",[t("li",[s._v("查看单个服务"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" redis_6379 status\n")])])])]),s._v(" "),t("li",[s._v("查看所有redis服务"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis\n")])])])])])])])])}),[],!1,null,null,null);a.default=l.exports}}]);